<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Action Console</title>
  <link rel="stylesheet" href="action-console-popup.css">
</head>
<body>
  <div class="header">
    <h2>ğŸ® Action Console</h2>
    <div class="controls">
      <div class="size-control">
        <label for="button-size-slider" style="font-size: 12px; margin-right: 8px;">Size:</label>
        <input type="range" id="button-size-slider" min="50" max="200" value="100" step="10" style="width: 100px;">
        <span id="button-size-value" style="font-size: 12px; margin-left: 6px; min-width: 35px; display: inline-block;">100%</span>
      </div>
      <div class="layout-control">
        <label for="layout-selector" style="font-size: 12px; margin-right: 8px;">Layout:</label>
        <select id="layout-selector" style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 4px 8px; border-radius: 4px; cursor: pointer;">
          <option value="default">Default</option>
          <option value="minimal">Minimal Clear</option>
          <option value="large-touch">Large Touch</option>
          <option value="compact">Compact</option>
          <option value="overlay">Overlay Style</option>
        </select>
      </div>
      <button id="add-action-btn" class="header-btn" title="Add action" style="background: #10b981;">â•</button>
      <button id="refresh-btn" class="header-btn" title="Refresh actions">ğŸ”„</button>
      <button id="show-unmapped-btn" class="header-btn" title="Show all gifts (mapped + unmapped)">ğŸ</button>
      <button id="always-on-top-btn" class="header-btn" title="Toggle always on top">ğŸ“Œ</button>
    </div>
  </div>

  <h3 id="mapped-section-title" style="margin: 12px 16px 0 16px; font-size: 14px; color: rgba(255,255,255,0.8);">ğŸ“Œ Quick Actions</h3>
  <div id="action-console-grid" class="action-console-grid">
    <div class="action-console-empty">
      <p>Loading actions...</p>
    </div>
  </div>

  <!-- Unmapped Gifts Section -->
  <div id="unmapped-gifts-section" style="display: none;">
    <h3 style="margin: 20px 16px 0 16px; font-size: 14px; color: rgba(255,255,255,0.8);">ğŸ All Gifts (Quick Execute)</h3>
    <div id="unmapped-gifts-grid" class="action-console-grid unmapped-grid">
      <div class="action-console-empty">
        <p>Loading gifts...</p>
      </div>
    </div>
  </div>

  <!-- Threshold Tracking Section -->
  <div id="action-console-thresholds" class="action-console-thresholds">
    <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="toggleSection('threshold')">
      <h4 style="margin: 10px 0 5px 0; font-size: 14px; color: rgba(255,255,255,0.7);">ğŸ¯ Threshold Progress</h4>
      <span id="threshold-toggle" class="toggle-icon">â–¼</span>
    </div>
    <div id="action-console-threshold-list" class="collapsible-content">
      <div style="color: rgba(255,255,255,0.4); font-size: 12px;">No active thresholds</div>
    </div>
  </div>

  <!-- Activity Log Section -->
  <div id="action-console-activity" class="action-console-activity">
    <div class="section-header" style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;" onclick="toggleSection('activity')">
      <h4 style="margin: 10px 0 5px 0; font-size: 14px; color: rgba(255,255,255,0.7);">ğŸ“œ Gift Activity Log</h4>
      <span id="activity-toggle" class="toggle-icon">â–¼</span>
    </div>
    <div id="action-console-activity-list" class="activity-log-list collapsible-content">
      <div style="color: rgba(255,255,255,0.4); font-size: 12px;">No gifts received yet</div>
    </div>
  </div>

  <!-- Add Action Modal (same as main window) -->
  <div id="add-action-modal" class="modal" style="display: none;">
    <div class="modal-content" style="max-width: 800px; background: linear-gradient(135deg, #1e3c72, #2a5298); border: 2px solid rgba(255,255,255,0.2); border-radius: 12px; margin: 2% auto;">
      <div class="modal-header" style="padding: 20px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-between; align-items: center;">
        <h2 style="margin: 0;">â• Add Action to Console</h2>
        <button class="modal-close" id="close-add-action-modal" style="background: transparent; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; width: 30px; height: 30px;">&times;</button>
      </div>
      <div class="modal-body" style="padding: 20px; max-height: 600px; overflow-y: auto;">
        <p style="margin-bottom: 15px; color: rgba(255,255,255,0.7);">
          Select an operation to add as a quick-action button.
        </p>

        <!-- Same content as main window modal -->
        <!-- Core -->
        <h3 style="margin-top: 15px; margin-bottom: 10px; font-size: 16px; color: #60a5fa;">Core</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px; margin-bottom: 20px;">
          <button class="action-select-btn" data-action="addHeart" data-label="â¤ï¸+ Add Heart">â¤ï¸+ Add Heart</button>
          <button class="action-select-btn" data-action="removeHeart" data-label="ğŸ’” Remove Heart">ğŸ’” Remove Heart</button>
          <button class="action-select-btn" data-action="addHeartPiece" data-label="Â¼â¤ï¸ Heart Piece">Â¼â¤ï¸ Heart Piece</button>
          <button class="action-select-btn" data-action="killPlayer" data-label="ğŸ’€ KO">ğŸ’€ KO</button>
          <button class="action-select-btn" data-action="toggleInvincibility" data-label="â­ GOD MODE">â­ GOD MODE</button>
          <button class="action-select-btn" data-action="enableInvertControls" data-label="ğŸ”„ Invert Controls">ğŸ”„ Invert Controls</button>
          <button class="action-select-btn" data-action="fakeMirror" data-label="ğŸª Fake Mirror">ğŸª Fake Mirror</button>
          <button class="action-select-btn" data-action="chaosDungeonWarp" data-label="ğŸ² Chaos Warp">ğŸ² Chaos Warp</button>
          <button class="action-select-btn" data-action="toggleWorld" data-label="ğŸŒ€ Fake Portal">ğŸŒ€ Fake Portal</button>
          <button class="action-select-btn" data-action="triggerChickenAttack" data-label="ğŸ” Chicken Attack">ğŸ” Chicken Attack</button>
          <button class="action-select-btn" data-action="triggerBeeSwarmWaves" data-label="ğŸ Bee Swarm">ğŸ Bee Swarm</button>
          <button class="action-select-btn" data-action="makeEnemiesInvisible" data-label="ğŸ‘» Invisible Enemies">ğŸ‘» Invisible Enemies</button>
          <button class="action-select-btn" data-action="enableItemLock" data-label="ğŸ”’ Item Lock">ğŸ”’ Item Lock</button>
          <button class="action-select-btn" data-action="enableGlassCannon" data-label="ğŸ’€ Glass Cannon">ğŸ’€ Glass Cannon</button>
          <button class="action-select-btn" data-action="blessingAndCurse" data-label="ğŸ² Effect Roulette">ğŸ² Effect Roulette</button>
        </div>

        <!-- Resources -->
        <h3 style="margin-top: 15px; margin-bottom: 10px; font-size: 16px; color: #60a5fa;">Resources</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px; margin-bottom: 20px;">
          <button class="action-select-btn" data-action="setRupees" data-value="100" data-label="ğŸ’° 100">ğŸ’° 100</button>
          <button class="action-select-btn" data-action="setRupees" data-value="500" data-label="ğŸ’° 500">ğŸ’° 500</button>
          <button class="action-select-btn" data-action="setRupees" data-value="9999" data-label="ğŸ’° MAX">ğŸ’° MAX</button>
          <button class="action-select-btn" data-action="setBombs" data-value="10" data-label="ğŸ’£ 10">ğŸ’£ 10</button>
          <button class="action-select-btn" data-action="setBombs" data-value="50" data-label="ğŸ’£ MAX">ğŸ’£ MAX</button>
          <button class="action-select-btn" data-action="setArrows" data-value="30" data-label="ğŸ¹ 30">ğŸ¹ 30</button>
          <button class="action-select-btn" data-action="setArrows" data-value="70" data-label="ğŸ¹ MAX">ğŸ¹ MAX</button>
          <button class="action-select-btn" data-action="addRupees" data-value="50" data-label="ğŸ’° +50">ğŸ’° +50</button>
          <button class="action-select-btn" data-action="addRupee" data-label="ğŸ’° +1">ğŸ’° +1</button>
          <button class="action-select-btn" data-action="removeRupee" data-label="ğŸ’° -1">ğŸ’° -1</button>
          <button class="action-select-btn" data-action="addBomb" data-label="ğŸ’£ +1">ğŸ’£ +1</button>
          <button class="action-select-btn" data-action="removeBomb" data-label="ğŸ’£ -1">ğŸ’£ -1</button>
          <button class="action-select-btn" data-action="addArrow" data-label="ğŸ¹ +1">ğŸ¹ +1</button>
          <button class="action-select-btn" data-action="removeArrow" data-label="ğŸ¹ -1">ğŸ¹ -1</button>
        </div>

        <!-- Equipment -->
        <h3 style="margin-top: 15px; margin-bottom: 10px; font-size: 16px; color: #60a5fa;">Equipment</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px; margin-bottom: 20px;">
          <button class="action-select-btn" data-action="setSword" data-value="1" data-label="âš”ï¸ Fighter">âš”ï¸ Fighter</button>
          <button class="action-select-btn" data-action="setSword" data-value="2" data-label="âš”ï¸ Master">âš”ï¸ Master</button>
          <button class="action-select-btn" data-action="setSword" data-value="3" data-label="âš”ï¸ Tempered">âš”ï¸ Tempered</button>
          <button class="action-select-btn" data-action="setSword" data-value="4" data-label="âš”ï¸ Golden">âš”ï¸ Golden</button>
          <button class="action-select-btn" data-action="setShield" data-value="1" data-label="ğŸ›¡ï¸ Blue">ğŸ›¡ï¸ Blue</button>
          <button class="action-select-btn" data-action="setShield" data-value="2" data-label="ğŸ›¡ï¸ Red">ğŸ›¡ï¸ Red</button>
          <button class="action-select-btn" data-action="setShield" data-value="3" data-label="ğŸ›¡ï¸ Mirror">ğŸ›¡ï¸ Mirror</button>
          <button class="action-select-btn" data-action="setArmor" data-value="1" data-label="ğŸ‘• Blue">ğŸ‘• Blue</button>
          <button class="action-select-btn" data-action="setArmor" data-value="2" data-label="ğŸ‘• Red">ğŸ‘• Red</button>
          <button class="action-select-btn" data-action="setGloves" data-value="1" data-label="ğŸ§¤ Power">ğŸ§¤ Power</button>
          <button class="action-select-btn" data-action="setGloves" data-value="2" data-label="ğŸ§¤ Titan">ğŸ§¤ Titan</button>
          <button class="action-select-btn" data-action="giveFlute" data-label="ğŸµ Add Flute">ğŸµ Add Flute</button>
          <button class="action-select-btn" data-action="toggleAllMedallions" data-label="ğŸ’« All Medallions">ğŸ’« All Medallions</button>
          <button class="action-select-btn" data-action="enableMagic" data-label="âœ¨ Enable Magic">âœ¨ Enable Magic</button>
          <button class="action-select-btn" data-action="setMagicUpgrade" data-value="1" data-label="ğŸ”® Â½ Magic">ğŸ”® Â½ Magic</button>
          <button class="action-select-btn" data-action="setMagicUpgrade" data-value="2" data-label="ğŸ”® Â¼ Magic">ğŸ”® Â¼ Magic</button>
          <button class="action-select-btn" data-action="addBottle" data-label="ğŸ¾ Add Bottle">ğŸ¾ Add Bottle</button>
          <button class="action-select-btn" data-action="giveStarterPack" data-label="ğŸ“¦ STARTER PACK">ğŸ“¦ STARTER PACK</button>
          <button class="action-select-btn" data-action="giveEndgamePack" data-label="ğŸ‘‘ ENDGAME PACK">ğŸ‘‘ ENDGAME PACK</button>
        </div>

        <!-- Toggle Items -->
        <h3 style="margin-top: 15px; margin-bottom: 10px; font-size: 16px; color: #60a5fa;">Toggle Items</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px; margin-bottom: 20px;">
          <button class="action-select-btn" data-action="toggleBoots" data-label="ğŸ‘Ÿ Boots">ğŸ‘Ÿ Boots</button>
          <button class="action-select-btn" data-action="toggleFlippers" data-label="ğŸŠ Flippers">ğŸŠ Flippers</button>
          <button class="action-select-btn" data-action="toggleMoonPearl" data-label="ğŸŒ™ Pearl">ğŸŒ™ Pearl</button>
          <button class="action-select-btn" data-action="toggleHookshot" data-label="ğŸª Hookshot">ğŸª Hookshot</button>
          <button class="action-select-btn" data-action="toggleLamp" data-label="ğŸ”¦ Lamp">ğŸ”¦ Lamp</button>
          <button class="action-select-btn" data-action="toggleHammer" data-label="ğŸ”¨ Hammer">ğŸ”¨ Hammer</button>
          <button class="action-select-btn" data-action="toggleBook" data-label="ğŸ“– Book">ğŸ“– Book</button>
          <button class="action-select-btn" data-action="toggleBugNet" data-label="ğŸ¦‹ Net">ğŸ¦‹ Net</button>
          <button class="action-select-btn" data-action="toggleSomaria" data-label="ğŸŸ¥ Somaria">ğŸŸ¥ Somaria</button>
          <button class="action-select-btn" data-action="toggleByrna" data-label="ğŸŸ¦ Byrna">ğŸŸ¦ Byrna</button>
          <button class="action-select-btn" data-action="toggleMirror" data-label="ğŸª Mirror">ğŸª Mirror</button>
          <button class="action-select-btn" data-action="toggleBoomerang" data-label="ğŸªƒ Boomerang">ğŸªƒ Boomerang</button>
          <button class="action-select-btn" data-action="toggleFireRod" data-label="ğŸ”¥ Fire Rod">ğŸ”¥ Fire Rod</button>
          <button class="action-select-btn" data-action="toggleIceRod" data-label="â„ï¸ Ice Rod">â„ï¸ Ice Rod</button>
        </div>

        <!-- Enemy Spawning -->
        <h3 style="margin-top: 15px; margin-bottom: 10px; font-size: 16px; color: #60a5fa;">Enemy Spawning</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 8px; margin-bottom: 20px;">
          <button class="action-select-btn" data-action="spawnEnemy" data-enemy="octorok" data-label="ğŸ™ Octorok">ğŸ™ Octorok</button>
          <button class="action-select-btn" data-action="spawnEnemy" data-enemy="ballandchain" data-label="âš”ï¸ Ball & Chain">âš”ï¸ Ball & Chain</button>
          <button class="action-select-btn" data-action="spawnEnemy" data-enemy="snapdragon" data-label="ğŸŒº Snapdragon">ğŸŒº Snapdragon</button>
          <button class="action-select-btn" data-action="spawnEnemy" data-enemy="cyclops" data-label="ğŸ‘ï¸ Cyclops">ğŸ‘ï¸ Cyclops</button>
          <button class="action-select-btn" data-action="spawnEnemy" data-enemy="soldier" data-label="ğŸ—¡ï¸ Soldier">ğŸ—¡ï¸ Soldier</button>
          <button class="action-select-btn" data-action="spawnRandomEnemy" data-label="ğŸ² Random Enemy">ğŸ² Random Enemy</button>
          <button class="action-select-btn" data-action="triggerEnemyWaves" data-label="âš”ï¸ Enemy Waves">âš”ï¸ Enemy Waves</button>
          <button class="action-select-btn" data-action="spawnBossRush" data-label="ğŸ’€ Boss Rush">ğŸ’€ Boss Rush</button>
        </div>
      </div>
      <div class="modal-footer" style="padding: 15px 20px; border-top: 1px solid rgba(255,255,255,0.1); text-align: right;">
        <button class="btn-sm" id="cancel-add-action" style="padding: 8px 16px; background: rgba(255,255,255,0.1); border: none; color: white; border-radius: 4px; cursor: pointer;">Cancel</button>
      </div>
    </div>
  </div>

  <script src="action-console-popup.js"></script>
</body>
</html>
