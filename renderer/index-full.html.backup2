<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self'; img-src 'self' gift-image:;">
  <title>Zane's World</title>
  <link rel="stylesheet" href="styles-full.css">
</head>
<body>
  <!-- Menu Bar - removed, tabs replace this -->
  <!-- <div class="menu-bar">
    <div class="menu-item">
      <span class="menu-label">View</span>
      <div class="menu-dropdown">
        <div class="menu-option" id="menu-gift-settings">ğŸ Gift Settings</div>
      </div>
    </div>
  </div> -->

  <div class="container">
    <h1>ğŸ„ Zane's World</h1>

    <!-- Connection Section -->
    <div class="section connection-section">
      <h2>Connection</h2>
      <div class="connection-controls">
        <input type="text" id="host" placeholder="localhost" value="localhost">
        <input type="text" id="port" placeholder="8191" value="8191">
        <button id="connect-btn">Connect to SNI</button>
        <button id="restart-sni-btn" style="background-color: #ff9800;">ğŸ”„ Restart SNI</button>
      </div>
      <div id="status" class="status disconnected">Disconnected</div>
      <select id="device-select" style="display: none;">
        <option value="">Select a device...</option>
      </select>
    </div>

    <!-- Tab Navigation -->
    <div class="tab-navigation">
      <button class="tab-btn active" data-tab="controls-tab">ğŸ® Controls</button>
      <button class="tab-btn" data-tab="gift-settings-tab">ğŸ Gift Settings</button>
    </div>

    <!-- Tab Content Container -->
    <div class="tab-content-container">
      <!-- Gift Settings Tab -->
      <div id="gift-settings-tab" class="tab-content">
        <div class="tab-header">
          <h2>ğŸ Gift Settings</h2>
          <button class="btn-save" id="save-gift-settings" style="margin-top: 10px;">ğŸ’¾ Save Settings</button>
        </div>

        <!-- Subtab Navigation -->
        <div class="subtab-navigation">
          <button class="subtab-btn active" data-subtab="gift-mappings-subtab">ğŸ“ Gift Mappings</button>
          <button class="subtab-btn" data-subtab="thresholds-subtab">ğŸ¯ Thresholds</button>
          <button class="subtab-btn" data-subtab="overlay-builder-subtab">ğŸ–¼ï¸ Overlay Builder</button>
          <button class="subtab-btn" data-subtab="gift-database-subtab">ğŸ“š Gift Database & Images</button>
          <button class="subtab-btn" data-subtab="database-updates-subtab">ğŸ”„ Database Updates</button>
        </div>

        <!-- Subtab Content Container -->
        <div class="subtab-content-container">

          <!-- Gift Mappings Subtab -->
          <div id="gift-mappings-subtab" class="subtab-content active">
            <!-- Mappings Actions at Top -->
            <div style="padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; gap: 10px;">
              <button class="btn-reset" id="reset-all-gift-mappings" style="background: #ef4444;">ğŸ—‘ï¸ Reset All Gifts</button>
            </div>

        <div class="tab-body">
          <div class="settings-container">
            <!-- Left Column: Actions -->
            <div class="settings-column">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <h3 style="margin: 0;">Available Actions</h3>
                <button class="btn-secondary" id="collapse-all-categories" style="background: #6366f1; padding: 6px 12px; font-size: 13px;">ğŸ“ Collapse All</button>
              </div>
              <div class="settings-scroll">
                <!-- Core Actions -->
                <div class="settings-category">
                  <h4>Core</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ’€ KO Player</span>
                    <input type="text" class="gift-input" data-action="killPlayer" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’€ Delete ALL Saves</span>
                    <input type="text" class="gift-input" data-action="deleteAllSaves" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ” Chicken Attack</span>
                    <input type="text" class="gift-input" data-action="triggerChickenAttack" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="triggerChickenAttack" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ Bee Swarm</span>
                    <input type="text" class="gift-input" data-action="triggerBeeSwarmWaves" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="triggerBeeSwarmWaves" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">âš”ï¸ Enemy Swarm</span>
                    <input type="text" class="gift-input" data-action="triggerEnemyWaves" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="triggerEnemyWaves" value="30" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ‘» Invisible Enemies</span>
                    <input type="text" class="gift-input" data-action="makeEnemiesInvisible" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="makeEnemiesInvisible" value="30" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ’€ Boss Rush</span>
                    <input type="text" class="gift-input" data-action="spawnBossRush" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="spawnBossRush" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ”’ Item Lock</span>
                    <input type="text" class="gift-input" data-action="enableItemLock" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="enableItemLock" value="30" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ’€ Glass Cannon</span>
                    <input type="text" class="gift-input" data-action="enableGlassCannon" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-action="enableGlassCannon" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ² Effect Roulette</span>
                    <input type="text" class="gift-input" data-action="blessingAndCurse" placeholder="Gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸª Fake Mirror</span>
                    <input type="text" class="gift-input" data-action="fakeMirror" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ² Chaos Dungeon Warp</span>
                    <input type="text" class="gift-input" data-action="chaosDungeonWarp" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŒ Flip World</span>
                    <input type="text" class="gift-input" data-action="toggleWorld" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¦ Reset Bird</span>
                    <input type="text" class="gift-input" data-action="deactivateFlute" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ² Spawn Random Enemy</span>
                    <input type="text" class="gift-input" data-action="spawnRandomEnemy" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ Add Heart Container</span>
                    <input type="text" class="gift-input" data-action="addHeart" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’” Remove Heart Container</span>
                    <input type="text" class="gift-input" data-action="removeHeart" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">Â¼â¤ï¸ Add Heart Piece</span>
                    <input type="text" class="gift-input" data-action="addHeartPiece" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â­ Toggle Invincibility</span>
                    <input type="text" class="gift-input" data-action="toggleInvincibility" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Swords -->
                <div class="settings-category">
                  <h4>Swords</h4>
                  <div class="action-item">
                    <span class="action-name">âš”ï¸ No Sword</span>
                    <input type="text" class="gift-input" data-action="setSword" data-params='{"level":0}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">âš”ï¸ Fighter Sword</span>
                    <input type="text" class="gift-input" data-action="setSword" data-params='{"level":1}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">âš”ï¸ Master Sword</span>
                    <input type="text" class="gift-input" data-action="setSword" data-params='{"level":2}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">âš”ï¸ Tempered Sword</span>
                    <input type="text" class="gift-input" data-action="setSword" data-params='{"level":3}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">âš”ï¸ Golden Sword</span>
                    <input type="text" class="gift-input" data-action="setSword" data-params='{"level":4}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Shields -->
                <div class="settings-category">
                  <h4>Shields</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ›¡ï¸ No Shield</span>
                    <input type="text" class="gift-input" data-action="setShield" data-params='{"level":0}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ›¡ï¸ Blue Shield</span>
                    <input type="text" class="gift-input" data-action="setShield" data-params='{"level":1}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ›¡ï¸ Red Shield</span>
                    <input type="text" class="gift-input" data-action="setShield" data-params='{"level":2}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ›¡ï¸ Mirror Shield</span>
                    <input type="text" class="gift-input" data-action="setShield" data-params='{"level":3}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Armor -->
                <div class="settings-category">
                  <h4>Armor</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ‘• Green Mail</span>
                    <input type="text" class="gift-input" data-action="setArmor" data-params='{"level":0}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ‘• Blue Mail</span>
                    <input type="text" class="gift-input" data-action="setArmor" data-params='{"level":1}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ‘• Red Mail</span>
                    <input type="text" class="gift-input" data-action="setArmor" data-params='{"level":2}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Gloves -->
                <div class="settings-category">
                  <h4>Gloves</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ§¤ No Gloves</span>
                    <input type="text" class="gift-input" data-action="setGloves" data-params='{"level":0}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ§¤ Power Gloves</span>
                    <input type="text" class="gift-input" data-action="setGloves" data-params='{"level":1}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ§¤ Titan Mitts</span>
                    <input type="text" class="gift-input" data-action="setGloves" data-params='{"level":2}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Toggle Items -->
                <div class="settings-category">
                  <h4>Toggle Items</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ‘Ÿ Toggle Boots</span>
                    <input type="text" class="gift-input" data-action="toggleBoots" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŠ Toggle Flippers</span>
                    <input type="text" class="gift-input" data-action="toggleFlippers" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŒ™ Toggle Moon Pearl</span>
                    <input type="text" class="gift-input" data-action="toggleMoonPearl" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸª Toggle Hookshot</span>
                    <input type="text" class="gift-input" data-action="toggleHookshot" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”¦ Toggle Lamp</span>
                    <input type="text" class="gift-input" data-action="toggleLamp" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”¨ Toggle Hammer</span>
                    <input type="text" class="gift-input" data-action="toggleHammer" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ“– Toggle Book</span>
                    <input type="text" class="gift-input" data-action="toggleBook" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¦‹ Toggle Bug Net</span>
                    <input type="text" class="gift-input" data-action="toggleBugNet" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŸ¥ Toggle Somaria</span>
                    <input type="text" class="gift-input" data-action="toggleSomaria" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŸ¦ Toggle Byrna</span>
                    <input type="text" class="gift-input" data-action="toggleByrna" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸª Toggle Mirror</span>
                    <input type="text" class="gift-input" data-action="toggleMirror" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸªƒ Toggle Boomerang</span>
                    <input type="text" class="gift-input" data-action="toggleBoomerang" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”¥ Toggle Fire Rod</span>
                    <input type="text" class="gift-input" data-action="toggleFireRod" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â„ï¸ Toggle Ice Rod</span>
                    <input type="text" class="gift-input" data-action="toggleIceRod" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Medallions -->
                <div class="settings-category">
                  <h4>Medallions</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ’¥ Toggle Bombos</span>
                    <input type="text" class="gift-input" data-action="toggleMedallion" data-params='{"name":"bombos"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">âš¡ Toggle Ether</span>
                    <input type="text" class="gift-input" data-action="toggleMedallion" data-params='{"name":"ether"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŒ‹ Toggle Quake</span>
                    <input type="text" class="gift-input" data-action="toggleMedallion" data-params='{"name":"quake"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’« Toggle All Medallions</span>
                    <input type="text" class="gift-input" data-action="toggleAllMedallions" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Magic -->
                <div class="settings-category">
                  <h4>Magic</h4>
                  <div class="action-item">
                    <span class="action-name">âœ¨ Enable Magic</span>
                    <input type="text" class="gift-input" data-action="enableMagic" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”® Normal Magic</span>
                    <input type="text" class="gift-input" data-action="setMagicUpgrade" data-params='{"level":0}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”® Â½ Magic</span>
                    <input type="text" class="gift-input" data-action="setMagicUpgrade" data-params='{"level":1}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”® Â¼ Magic</span>
                    <input type="text" class="gift-input" data-action="setMagicUpgrade" data-params='{"level":2}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Bottles -->
                <div class="settings-category">
                  <h4>Bottles</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ¾ Add Bottle</span>
                    <input type="text" class="gift-input" data-action="addBottle" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¾ Remove Bottle</span>
                    <input type="text" class="gift-input" data-action="removeBottle" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ§ª Fill Red Potion</span>
                    <input type="text" class="gift-input" data-action="fillBottles" data-params='{"type":"red"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ§ª Fill Green Potion</span>
                    <input type="text" class="gift-input" data-action="fillBottles" data-params='{"type":"green"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ§ª Fill Blue Potion</span>
                    <input type="text" class="gift-input" data-action="fillBottles" data-params='{"type":"blue"}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Flute -->
                <div class="settings-category">
                  <h4>Flute</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸµ Add Flute</span>
                    <input type="text" class="gift-input" data-action="giveFlute" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸµ Remove Flute</span>
                    <input type="text" class="gift-input" data-action="removeFlute" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Pendants -->
                <div class="settings-category">
                  <h4>Pendants</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ”´ Toggle Red Pendant</span>
                    <input type="text" class="gift-input" data-action="togglePendant" data-params='{"name":"red"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ”µ Toggle Blue Pendant</span>
                    <input type="text" class="gift-input" data-action="togglePendant" data-params='{"name":"blue"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸŸ¢ Toggle Green Pendant</span>
                    <input type="text" class="gift-input" data-action="togglePendant" data-params='{"name":"green"}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’ Toggle All Pendants</span>
                    <input type="text" class="gift-input" data-action="toggleAllPendants" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Crystals -->
                <div class="settings-category">
                  <h4>Crystals</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 1</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":1}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 2</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":2}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 3</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":3}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 4</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":4}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 5</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":5}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 6</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":6}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle Crystal 7</span>
                    <input type="text" class="gift-input" data-action="toggleCrystal" data-params='{"num":7}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’  Toggle All Crystals</span>
                    <input type="text" class="gift-input" data-action="toggleAllCrystals" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Set Hearts -->
                <div class="settings-category">
                  <h4>Set Hearts</h4>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 3 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":3}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 5 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":5}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 7 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":7}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 10 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":10}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 12 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":12}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 15 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":15}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 18 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":18}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">â¤ï¸ 20 Hearts</span>
                    <input type="text" class="gift-input" data-action="setHearts" data-params='{"count":20}' placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Resources -->
                <div class="settings-category">
                  <h4>Resources</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ’° 100 Rupees</span>
                    <input type="text" class="gift-input" data-action="setRupees" data-params='{"amount":100}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’° 500 Rupees</span>
                    <input type="text" class="gift-input" data-action="setRupees" data-params='{"amount":500}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’° 9999 Rupees</span>
                    <input type="text" class="gift-input" data-action="setRupees" data-params='{"amount":9999}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’° +50 Rupees</span>
                    <input type="text" class="gift-input" data-action="addRupees" data-params='{"amount":50}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’° +1 Rupee</span>
                    <input type="text" class="gift-input" data-action="addRupee" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’° -1 Rupee</span>
                    <input type="text" class="gift-input" data-action="removeRupee" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’£ 10 Bombs</span>
                    <input type="text" class="gift-input" data-action="setBombs" data-params='{"amount":10}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’£ 50 Bombs</span>
                    <input type="text" class="gift-input" data-action="setBombs" data-params='{"amount":50}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’£ +1 Bomb</span>
                    <input type="text" class="gift-input" data-action="addBomb" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ’£ -1 Bomb</span>
                    <input type="text" class="gift-input" data-action="removeBomb" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¹ 30 Arrows</span>
                    <input type="text" class="gift-input" data-action="setArrows" data-params='{"amount":30}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¹ 70 Arrows</span>
                    <input type="text" class="gift-input" data-action="setArrows" data-params='{"amount":70}' placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¹ +1 Arrow</span>
                    <input type="text" class="gift-input" data-action="addArrow" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ¹ -1 Arrow</span>
                    <input type="text" class="gift-input" data-action="removeArrow" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Presets -->
                <div class="settings-category">
                  <h4>Presets</h4>
                  <div class="action-item">
                    <span class="action-name">ğŸ“¦ Starter Pack</span>
                    <input type="text" class="gift-input" data-action="giveStarterPack" placeholder="Enter gift name...">
                  </div>
                  <div class="action-item">
                    <span class="action-name">ğŸ‘‘ Endgame Pack</span>
                    <input type="text" class="gift-input" data-action="giveEndgamePack" placeholder="Enter gift name...">
                  </div>
                </div>

                <!-- Item Disable (Temporary) -->
                <div class="settings-category">
                  <h4>ğŸš« Item Disable (Temporary)</h4>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ¹ Disable Bow</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="bow" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="bow" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸªƒ Disable Boomerang</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="boomerang" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="boomerang" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸª Disable Hookshot</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="hookshot" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="hookshot" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ”¨ Disable Hammer</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="hammer" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="hammer" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ‘Ÿ Disable Boots</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="boots" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="boots" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸŠ Disable Flippers</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="flippers" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="flippers" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ”¦ Disable Lamp</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="lamp" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="lamp" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ”¥ Disable Fire Rod</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="firerod" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="firerod" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">â„ï¸ Disable Ice Rod</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="icerod" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="icerod" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">âš”ï¸ Disable Sword</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="sword" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="sword" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸ›¡ï¸ Disable Shield</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="shield" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="shield" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸª Disable Mirror</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="mirror" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="mirror" value="90" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸŸ¥ Disable Somaria</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="somaria" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="somaria" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸŸ¦ Disable Byrna</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="byrna" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="byrna" value="60" min="5" max="600" placeholder="Sec">
                  </div>
                  <div class="action-item action-item-with-duration">
                    <span class="action-name">ğŸŒ™ Disable Moon Pearl</span>
                    <input type="text" class="gift-input" data-action="disableItem" data-item="moonpearl" placeholder="Gift name...">
                    <input type="number" class="duration-input" data-item="moonpearl" value="120" min="5" max="600" placeholder="Sec">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
          </div>
          <!-- End Gift Mappings Subtab -->

          <!-- Thresholds Subtab -->
          <div id="thresholds-subtab" class="subtab-content">
            <!-- Threshold Actions at Top -->
            <div style="padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; gap: 10px; align-items: center;">
              <button class="btn-primary" id="add-threshold">â• Add Threshold</button>
              <button class="btn-reset" id="reset-all-thresholds" style="background: #ef4444;">ğŸ—‘ï¸ Reset All Thresholds</button>
              <div style="margin-left: auto; color: rgba(255,255,255,0.7); font-size: 13px;">
                ğŸ’¡ Thresholds accumulate gifts and trigger actions when the target count is reached. Counters reset each session.
              </div>
            </div>

            <!-- Current Threshold Progress -->
            <div style="padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <h3 style="margin-top: 0; margin-bottom: 10px; color: rgba(255,255,255,0.9);">ğŸ“Š Current Progress (This Session)</h3>
              <div id="threshold-progress-list" style="display: flex; flex-direction: column; gap: 8px;">
                <div style="color: rgba(255,255,255,0.5); font-style: italic;">No thresholds configured</div>
              </div>
            </div>

            <!-- Configured Thresholds -->
            <div style="padding: 15px;">
              <h3 style="margin-top: 0; margin-bottom: 15px; color: rgba(255,255,255,0.9);">ğŸ¯ Configured Thresholds</h3>
              <div id="threshold-config-list" style="display: flex; flex-direction: column; gap: 12px;">
                <div style="color: rgba(255,255,255,0.5); font-style: italic;">No thresholds configured. Click "Add Threshold" to create one.</div>
              </div>
            </div>
          </div>
          <!-- End Thresholds Subtab -->

          <!-- Overlay Builder Subtab -->
          <div id="overlay-builder-subtab" class="subtab-content">
            <!-- Overlay Actions at Top -->
            <div style="padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
              <button class="btn-generate" id="generate-overlay">ğŸ¨ Generate Overlay HTML</button>
            </div>

            <div class="tab-body">
              <div class="overlay-builder-container">
                <div class="overlay-config">
                  <h3>Overlay Configuration</h3>
                  <div class="config-group">
                    <label for="overlay-width">Width (px):</label>
                    <input type="number" id="overlay-width" value="1080" min="100" max="3840">
                  </div>
                  <div class="config-group">
                    <label for="overlay-height">Height (px):</label>
                    <input type="number" id="overlay-height" value="200" min="50" max="2160">
                  </div>
                  <div class="config-group">
                    <label for="overlay-stagger">Stagger Delay (seconds):</label>
                    <input type="number" id="overlay-stagger" value="2" min="0.1" max="10" step="0.1">
                    <small>Time between showing each gift</small>
                  </div>
                  <div class="config-group">
                    <label for="overlay-pause">Pause After All (seconds):</label>
                    <input type="number" id="overlay-pause" value="30" min="1" max="120" step="1">
                    <small>Wait time before repeating all gifts</small>
                  </div>
                  <div class="config-group">
                    <label for="overlay-spacing">Gift Spacing (px):</label>
                    <input type="number" id="overlay-spacing" value="150" min="0" max="500" step="10">
                    <small>Space between gift images (multiplied by 2x in animation)</small>
                  </div>
                  <div class="config-group">
                    <label class="checkbox-label">
                      <input type="checkbox" id="overlay-continuous-loop" checked>
                      <span>Continuous Loop</span>
                    </label>
                    <small>Continuously cycle through gifts without stopping</small>
                  </div>
                </div>

                <div class="overlay-gifts">
                  <h3>Select Gifts for Overlay</h3>
                  <div id="overlay-gift-list" class="overlay-gift-list">
                    <!-- Gift checkboxes will be populated here by JS -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End Overlay Builder Subtab -->

          <!-- Gift Database Subtab -->
          <div id="gift-database-subtab" class="subtab-content">
            <!-- Database Actions at Top -->
            <div style="padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; gap: 10px; flex-wrap: wrap;">
              <button class="btn-save" id="save-gift-database">ğŸ’¾ Save Database & Images</button>
              <button class="btn-reset" id="reset-gift-database">ğŸ”„ Reset to Defaults</button>
              <button class="btn-download" id="download-all-images" style="background: #1da1f2;">ğŸ–¼ï¸ Download All Images</button>
            </div>

            <div class="tab-body">
              <div class="database-container">
                <div class="database-section">
                  <h3>Edit Gifts (Names & Images)</h3>
                  <p class="section-description">Customize gift display names and images. Click a gift to expand and edit image URL.</p>

                  <!-- Search Bar -->
                  <div style="margin-bottom: 15px;">
                    <input type="text" id="gift-search" placeholder="ğŸ” Search gifts..." style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 4px; color: white;">
                  </div>

                  <!-- Download Progress -->
                  <div id="download-progress" style="display: none; margin-bottom: 15px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                    <div style="margin-bottom: 5px; font-size: 13px;">
                      <span id="download-status">Downloading...</span>
                      <span id="download-count" style="float: right; font-weight: bold;"></span>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); height: 20px; border-radius: 10px; overflow: hidden;">
                      <div id="download-progress-bar" style="background: linear-gradient(90deg, #1da1f2, #0d8bd9); height: 100%; width: 0%; transition: width 0.3s;"></div>
                    </div>
                    <div id="download-current" style="margin-top: 5px; font-size: 12px; opacity: 0.7;"></div>
                  </div>

                  <div id="gift-database-list" class="gift-database-list">
                    <!-- Gift entries with thumbnails will be populated here by JS -->
                  </div>
                </div>

                <div class="database-section">
                  <h3>Add Custom Gift</h3>
                  <p class="section-description">Create custom gifts not in the default database</p>
                  <div class="custom-gift-form">
                    <div class="form-group">
                      <label for="custom-gift-name">Gift Name:</label>
                      <input type="text" id="custom-gift-name" placeholder="e.g., Super Rose">
                    </div>
                    <div class="form-group">
                      <label for="custom-gift-coins">Coin Value:</label>
                      <input type="number" id="custom-gift-coins" placeholder="1-50000" min="1" max="50000">
                    </div>
                    <div class="form-group">
                      <label for="custom-gift-image">Image URL (optional):</label>
                      <input type="text" id="custom-gift-image" placeholder="https://...">
                    </div>
                    <button class="btn-add-custom" id="add-custom-gift">â• Add Custom Gift</button>
                  </div>

                  <h4 style="margin-top: 20px;">Custom Gifts</h4>
                  <div id="custom-gifts-list" class="custom-gifts-list">
                    <!-- Custom gifts will be displayed here -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- End Gift Database Subtab -->

          <!-- Database Updates Subtab -->
          <div id="database-updates-subtab" class="subtab-content">
            <div class="tab-body">
              <div class="database-updates-container">

                <!-- Update Status Section -->
                <div class="updates-section">
                  <h3>Database Status</h3>
                  <div class="status-grid">
                    <div class="status-card">
                      <span class="status-label">Last Updated:</span>
                      <span id="db-last-updated" class="status-value">Never</span>
                    </div>
                    <div class="status-card">
                      <span class="status-label">Active Gifts:</span>
                      <span id="db-active-count" class="status-value">-</span>
                    </div>
                    <div class="status-card">
                      <span class="status-label">Archived Gifts:</span>
                      <span id="db-archived-count" class="status-value">-</span>
                    </div>
                    <div class="status-card">
                      <span class="status-label">Data Source:</span>
                      <span class="status-value">streamtoearn.io</span>
                    </div>
                  </div>
                </div>

                <!-- Update Actions -->
                <div class="updates-section">
                  <h3>Update Gift Database</h3>
                  <p class="section-description">
                    Fetch the latest gift data from TikTok. Removed gifts will be archived (not deleted)
                    and can be restored if they return.
                  </p>
                  <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn-primary" id="update-gift-database-btn">
                      ğŸ”„ Update from streamtoearn.io
                    </button>
                  </div>

                  <!-- Progress Indicator -->
                  <div id="update-progress-container" style="display: none; margin-top: 20px;">
                    <div class="progress-header">
                      <span id="update-progress-stage">Initializing...</span>
                      <span id="update-progress-percent">0%</span>
                    </div>
                    <div class="progress-bar-container">
                      <div id="update-progress-bar" class="progress-bar"></div>
                    </div>
                    <p id="update-progress-message" class="progress-message"></p>
                  </div>

                  <!-- Update Results -->
                  <div id="update-results-container" style="display: none; margin-top: 20px;">
                    <div class="results-card">
                      <h4 id="results-title">Update Complete</h4>
                      <div id="results-summary" class="results-summary"></div>
                    </div>
                  </div>
                </div>

                <!-- Version History -->
                <div class="updates-section">
                  <h3>Version History</h3>
                  <p class="section-description">
                    Click on a version to see what gifts were added or removed
                  </p>
                  <div id="version-history-list" class="version-history-list">
                    <p style="text-align: center; color: #888; padding: 20px;">
                      Loading version history...
                    </p>
                  </div>
                </div>

                <!-- Archived Gifts -->
                <div class="updates-section">
                  <h3>Archived Gifts (<span id="archived-inline-count">0</span>)</h3>
                  <p class="section-description">
                    Gifts that were removed from TikTok. You can restore them if they return.
                  </p>
                  <div class="archived-search" style="margin-top: 15px; margin-bottom: 15px;">
                    <input type="text"
                           id="archived-inline-search"
                           placeholder="ğŸ” Search archived gifts..."
                           style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); border-radius: 4px; color: white;">
                  </div>
                  <div id="archived-gifts-inline-list" class="archived-gifts-inline-container">
                    <p style="text-align: center; color: #888; padding: 20px;">
                      Loading archived gifts...
                    </p>
                  </div>
                </div>

              </div>
            </div>
          </div>
          <!-- End Database Updates Subtab -->

        </div>
        <!-- End Subtab Content Container -->

      </div>
      <!-- End Gift Settings Tab -->

      <!-- Controls Tab -->
      <div id="controls-tab" class="tab-content active">

      <!-- Row 1: Core Actions & Power-Ups -->
      <div class="control-row">
        <!-- Core Actions -->
        <div class="control-group">
          <h3>Core</h3>
          <div class="button-grid-compact">
            <button class="btn-sm danger" data-action="killPlayer">ğŸ’€ KO Mario</button>
            <button class="btn-sm" data-action="addLife">ğŸ’š +Life</button>
            <button class="btn-sm" data-action="removeLife">ğŸ’” -Life</button>
            <button class="btn-sm" data-action="addCoins" data-value="10">ğŸª™ +10 Coins</button>
            <button class="btn-sm" data-action="removeCoins" data-value="10">ğŸª™ -10 Coins</button>
            <button class="btn-sm" data-action="addCoins" data-value="50">ğŸª™ +50 Coins</button>
          </div>
        </div>

        <!-- Power-Ups -->
        <div class="control-group">
          <h3>Power-Ups</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="giveMushroom">ğŸ„ Mushroom</button>
            <button class="btn-sm" data-action="giveFireFlower">ğŸ”¥ Fire Flower</button>
            <button class="btn-sm" data-action="giveCapeFeather">ğŸª¶ Cape Feather</button>
            <button class="btn-sm special" data-action="giveStarman">â­ Star Power</button>
            <button class="btn-sm" data-action="removePowerup">â¬‡ï¸ Downgrade</button>
            <button class="btn-sm" data-action="activatePSwitch">â±ï¸ P-Switch</button>
          </div>
        </div>

      </div>

      <!-- ROWS 2 & 3: REMOVED - Sprite spawning broken (enemies, blocks, Yoshi) -->
      <div class="control-row">
        <!-- Common Enemies -->
        <div class="control-group">
          <h3>Common Enemies</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="spawnEnemyNearMario" data-value="1">ğŸ¢ Green Koopa</button>
            <button class="btn-sm" data-action="spawnEnemyNearMario" data-value="2">ğŸ”´ Red Koopa</button>
            <button class="btn-sm" data-action="spawnEnemyNearMario" data-value="11">ğŸ„ Goomba</button>
            <button class="btn-sm" data-action="spawnEnemyNearMario" data-value="8">ğŸ Buzzy Beetle</button>
            <button class="btn-sm" data-action="spawnEnemyNearMario" data-value="9">ğŸ¦” Spiny</button>
            <button class="btn-sm" data-action="spawnEnemyNearMario" data-value="12">ğŸŒº Piranha Plant</button>
          </div>
        </div>

        <!-- Special Enemies -->
        <div class="control-group">
          <h3>Special Enemies</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="spawnBooCircle">ğŸ‘» Boo Circle</button>
            <button class="btn-sm" data-action="spawnThwomp">ğŸ—¿ Thwomp</button>
            <button class="btn-sm" data-action="spawnCharginChuck">ğŸˆ Chargin' Chuck</button>
            <button class="btn-sm" data-action="spawnBobOmb">ğŸ’£ Bob-omb</button>
            <button class="btn-sm" data-action="spawnMagikoopa">ğŸ§™ Magikoopa</button>
            <button class="btn-sm" data-action="spawnDryBones">ğŸ’€ Dry Bones</button>
          </div>
        </div>

        <!-- More Enemies -->
        <div class="control-group">
          <h3>More Enemies</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="spawnRex">ğŸ¦– Rex</button>
            <button class="btn-sm" data-action="spawnWiggler">ğŸ› Wiggler</button>
            <button class="btn-sm" data-action="spawnRandomEnemy">ğŸ² Random</button>
            <button class="btn-sm danger" data-action="clearAllEnemies">ğŸ—‘ï¸ Clear All</button>
          </div>
        </div>
      </div>

      <!-- Row 3: Enemy Waves & Barrages -->
      <div class="control-row">
        <!-- Enemy Waves -->
        <div class="control-group">
          <h3>Enemy Waves</h3>
          <div class="button-grid-compact">
            <button class="btn-sm special" data-action="spawnEnemyWave">ğŸŒŠ Random Wave (30s)</button>
            <button class="btn-sm" data-action="spawnKoopaWave">ğŸ¢ Koopa Wave (20s)</button>
            <button class="btn-sm" data-action="spawnBuzzyBeetleWave">ğŸ Buzzy Wave (20s)</button>
            <button class="btn-sm" data-action="spawnPiranhaPlantWave">ğŸŒº Piranha Wave (20s)</button>
            <button class="btn-sm" data-action="spawnBulletBillBarrage">ğŸš€ Bullet Barrage (15s)</button>
          </div>
        </div>

        <!-- Boss Spawns -->
        <div class="control-group">
          <h3>Bosses</h3>
          <div class="button-grid-compact">
            <button class="btn-sm gold" data-action="spawnBoss" data-value="reznor">ğŸ¦– Reznor</button>
            <button class="btn-sm gold" data-action="spawnBoss" data-value="bowser">ğŸ‰ Bowser</button>
          </div>
        </div>

        <!-- Enemy Effects -->
        <div class="control-group">
          <h3>Enemy Effects</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="makeEnemiesInvisible">ğŸ‘ï¸ Invisible (30s)</button>
            <button class="btn-sm" data-action="doubleEnemySpeed">âš¡ 2x Speed (20s)</button>
          </div>
        </div>
      </div>

      <!-- Row 4: Level Warping - Worlds 1-4 -->
      <div class="control-row">
        <!-- Yoshi's Island -->
        <div class="control-group">
          <h3>ğŸï¸ World 1</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld1">Yoshi's Island</button>
          </div>
        </div>

        <!-- Donut Plains -->
        <div class="control-group">
          <h3>ğŸ© World 2</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld2">Donut Plains</button>
          </div>
        </div>

        <!-- Vanilla Dome -->
        <div class="control-group">
          <h3>ğŸ”ï¸ World 3</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld3">Vanilla Dome</button>
          </div>
        </div>

        <!-- Twin Bridges -->
        <div class="control-group">
          <h3>ğŸŒ‰ World 4</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld4">Twin Bridges</button>
          </div>
        </div>
      </div>

      <!-- Row 5: Level Warping - Worlds 5-7 & Special -->
      <div class="control-row">
        <!-- Forest of Illusion -->
        <div class="control-group">
          <h3>ğŸŒ² World 5</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld5">Forest of Illusion</button>
          </div>
        </div>

        <!-- Chocolate Island -->
        <div class="control-group">
          <h3>ğŸ« World 6</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld6">Chocolate Island</button>
          </div>
        </div>

        <!-- Valley of Bowser -->
        <div class="control-group">
          <h3>ğŸŒ‹ World 7</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="warpToWorld7">Valley of Bowser</button>
          </div>
        </div>

        <!-- Special Warps -->
        <div class="control-group">
          <h3>Special Warps</h3>
          <div class="button-grid-compact">
            <button class="btn-sm special" data-action="warpToSpecialWorld">â­ Star World</button>
            <button class="btn-sm gold" data-action="warpToBowserCastle">ğŸ° Bowser's Castle</button>
            <button class="btn-sm" data-action="warpToGhostHouse">ğŸ‘» Ghost House</button>
            <button class="btn-sm" data-action="warpToRandomLevel">ğŸ² Random Level</button>
          </div>
        </div>
      </div>

      <!-- Row 6: Physics Chaos - Speed & Jump -->
      <div class="control-row">
        <!-- Speed Modifiers -->
        <div class="control-group">
          <h3>Speed</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="halfSpeed">ğŸŒ Half Speed (30s)</button>
            <button class="btn-sm" data-action="doubleSpeed">âš¡ Double Speed (30s)</button>
          </div>
        </div>

        <!-- Jump Modifiers -->
        <div class="control-group">
          <h3>Jump Height</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="moonJump">ğŸŒ™ Moon Jump (30s)</button>
            <button class="btn-sm" data-action="tinyJump">ğŸ¦ Tiny Jump (30s)</button>
          </div>
        </div>

        <!-- Gravity Modifiers -->
        <div class="control-group">
          <h3>Gravity</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="lowGravity">ğŸª Low Gravity (30s)</button>
            <button class="btn-sm" data-action="highGravity">ğŸª¨ High Gravity (30s)</button>
          </div>
        </div>
      </div>

      <!-- Row 7: Physics Chaos - Controls & Special -->
      <div class="control-row">
        <!-- Control Modifiers -->
        <div class="control-group">
          <h3>Control Chaos</h3>
          <div class="button-grid-compact">
            <button class="btn-sm danger" data-action="reverseControls">ğŸ”„ Reverse Controls (20s)</button>
            <button class="btn-sm" data-action="enableIcePhysics">â„ï¸ Ice Physics (30s)</button>
          </div>
        </div>

        <!-- Running Modifiers -->
        <div class="control-group">
          <h3>Running</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="disableRunning">ğŸš« No Running (20s)</button>
            <button class="btn-sm" data-action="forceContinuousRun">ğŸƒ Force Run (20s)</button>
          </div>
        </div>

        <!-- Random Chaos -->
        <div class="control-group">
          <h3>Random Chaos</h3>
          <div class="button-grid-compact">
            <button class="btn-sm special" data-action="randomPhysicsChaos">ğŸ² Random Physics (30s)</button>
          </div>
        </div>

        <!-- Level Utilities -->
        <div class="control-group">
          <h3>Level Utils</h3>
          <div class="button-grid-compact">
            <button class="btn-sm" data-action="setCheckpoint">ğŸš© Set Checkpoint</button>
            <button class="btn-sm" data-action="clearCheckpoint">ğŸ—‘ï¸ Clear Checkpoint</button>
            <button class="btn-sm" data-action="forceSecretExit">ğŸ”“ Secret Exit</button>
            <button class="btn-sm" data-action="returnToWorldMap">ğŸ—ºï¸ To World Map</button>
          </div>
        </div>
      </div>

      <!-- Row 8: Chaos Effects - Block & Floor Manipulation -->
      <div class="control-row">
        <!-- Block Spawning -->
        <div class="control-group">
          <h3>Block Chaos</h3>
          <div class="button-grid-compact">
            <button class="btn-sm danger" data-action="spawnRandomBlocks" data-amount="5">ğŸ§± Spawn 5 Random Blocks</button>
            <button class="btn-sm danger" data-action="spawnRandomBlocks" data-amount="10">ğŸ§± Spawn 10 Random Blocks</button>
          </div>
        </div>

        <!-- Floor Removal -->
        <div class="control-group">
          <h3>Floor Hazards</h3>
          <div class="button-grid-compact">
            <button class="btn-sm danger" data-action="removeFloorBlocks">ğŸ•³ï¸ Floor Hazards (20s)</button>
            <button class="btn-sm danger" data-action="removeFloorBlocks" data-duration="30">ğŸ•³ï¸ Floor Hazards (30s)</button>
          </div>
        </div>
      </div>

    </div>
    <!-- End Tab Content Container -->

    <!-- Log Section -->
    <div class="section log-section">
      <h3>Activity Log</h3>
      <div id="log" class="log"></div>
    </div>
  </div>

  <script src="tiktok-gifts.js"></script>
  <script src="gift-images.js"></script>
  <script src="toast.js"></script>
  <script src="renderer-full.js"></script>
  <script src="gift-settings-modal.js"></script>
  <script src="archived-gifts-modal.js"></script>
  <script src="threshold-manager.js"></script>
</body>
</html>